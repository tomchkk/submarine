#!/usr/bin/env bash

source "$service/submodule-service"

##
# Installs the given submodules paths or names.
##
install_feature::install() {
    local submodules=$@

    if [[ -z "$submodules" ]]; then
        submodules=$(submodule_service::get_configured_paths)
    fi

    for submodule in ${submodules[@]}; do
        local path=$(submodule_service::get_path_for_value "$submodule")

        if [[ -z $path ]] ; then
            echo "The submodule '$submodule' does not exist!"

            echo "Configured submodule paths:"
            for path in $(submodule_service::get_configured_paths); do
                echo " - $path"
            done

            return 1
        fi

        echo "Installing '$path'..."

        submodule_service::install_path $path
    done
}
